<div class="box__container">

  <div class="box__image" style="background-image: url('{{ section.settings.image | img_url: '1024x' }});">
    
  </div>
  
  <div class="box__content {% if section.settings.img_outline == true %} img-card__outline {% endif %}" >
      
      <div class="img-card__content {% if section.settings.transparent_box == false %}content-box{% endif %} {% if section.settings.transparent_box == false or section.settings.text != blank  %} small--hide{% endif %}">
          {% if section.settings.title != blank %}
            <h4 class="img-card-title">{{section.settings.title}}</h4>
          {% endif %}
          {% if section.settings.text != blank %}
            <div class="rte-setting mega-subtitle{% if section.settings.text_size == 'large' %} mega-subtitle--large{% endif %}">{{ section.settings.text }}</div>
          {% endif %}
          {% if section.settings.button_label != blank and section.settings.button_link != blank %}
            <a href="{{ section.settings.button_link }}" class="btn img-card__btn">
              {{ section.settings.button_label | escape }}
            </a>
          {% endif %}
      </div>

  </div>

</div>

<div class="off-image-content {% if section.settings.transparent_box == false or section.settings.text != blank  %} medium-up--hide {%else %} hide {% endif %}">
  {% if section.settings.title != blank %}
  	<h4>{{section.settings.title}}</h4>
  {% endif %}
  
  {% if section.settings.text != blank %}
  	<div class="rte-setting mega-subtitle{% if section.settings.text_size == 'large' %} mega-subtitle--large{% endif %}">{{ section.settings.text }}</div>
  {% endif %}
  
  {% if section.settings.button_label != blank and section.settings.button_link != blank %}
    <a href="{{ section.settings.button_link }}" class="btn">
      {{ section.settings.button_label | escape }}
    </a>
  {% endif %}
</div>

<noscript>
  <div class="hero hero--{{ section.settings.hero_size }}{% if section.settings.title != blank or section.settings.text != blank or section.settings.button_label != blank %} hero__overlay{% endif %}"{% if section.settings.image %} style="background-image: url('{{ section.settings.image | img_url: '2048x' }}'); background-position: center {{ section.settings.alignment }};"{% endif %}></div>
</noscript>

{% schema %}
  {
    "name": "Image with text overlay",
    "class": "index-section",
    "settings": [
      {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },
      {
        "type": "checkbox",
        "id": "img_outline",
        "label": "White outline around image",
        "default": true
      },
      {
        "type": "text",
        "id": "title",
        "label": "Heading",
        "default": "Image with text overlay"
      },
      {
        "type": "richtext",
        "id": "text",
        "label": "Text",
        "default": "<p>Use overlay text to give your customers insight into your brand. Select imagery and text that relates to your style and story.</p>"
      },
      {
        "type": "select",
        "id": "text_size",
        "label": "Text size",
        "default": "medium",
        "options": [
          {
            "label": "Medium",
            "value": "medium"
          },
          {
            "label": "Large",
            "value": "large"
          }
        ]
      },
		
      {
        "type": "text",
        "id": "button_label",
        "label": "Button label"
      },
      {
        "type": "url",
        "id": "button_link",
        "label": "Button link"
      },
	  {
        "type": "checkbox",
        "id": "transparent_box",
        "label": "Transparent Content Box",
        "default": true
      }
    ],
    "presets": [
      {
        "name": "Image with text overlay",
        "category": "Image"
      }
    ]
  }
{% endschema %}
